import{d as f,r as l,c as o,e as s,w as n,F as d,o as i,b as a,h as C,l as h,g as B,t as p,f as F}from"./vendor.83c679c4.js";import{_ as w,V as _,a as E,C as T}from"./index.2c62aea5.js";import g from"./EditableTable.74919d12.js";import{T as V}from"./Table.e5b9d727.js";import"./v4.055dd912.js";const D=f({components:{ViewSelector:_,ViewItem:E,EditableTable:g,Table:V,Combobox:T},data(){return{items:[],columns:[{text:"\u8B58\u5225\u5B50",value:"id"},{text:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",value:"email"},{text:"\u5B66\u5E74",value:"grade"},{text:"\u751F\u5E74\u6708\u65E5",value:"birthdate"},{text:"\u59D3",value:"family_name"},{text:"\u540D",value:"given_name"},{text:"\u59D3\u304B\u306A",value:"family_name_kana"},{text:"\u540D\u304B\u306A",value:"given_name_kana"},{text:"\u6027\u5225",value:"gender"},{text:"\u96FB\u8A71\u756A\u53F7",value:"phone_number"},{text:"\u5F79\u5272\u30EA\u30B9\u30C8",value:"roles"},{text:"\u304D\u3063\u304B\u3051",value:"learned"},{text:"\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8",value:"template"}],departments:[],id:void 0,template:void 0}},computed:{templates(){return this.items.filter(e=>e.template===!0)},instances(){return this.items.filter(e=>e.template!==!0)}},mounted(){this.refresh()},methods:{async refresh(){this.items=await this.$api.get("/user"),this.departments=await this.$api.get("/department")},async addTemplate(){await this.$api.put(`/user/${this.id}`,{template:!0}),this.refresh()},async addInstance(){await this.$api.post("/user",{template:this.template}),this.refresh()}}}),$=a("h1",null,"User",-1);function x(e,u,A,k,y,j){const c=l("view-selector"),m=l("Table"),b=l("Combobox"),v=l("editable-table"),r=l("view-item");return i(),o(d,null,[s(c,{items:[{name:"table",scope:"read"}]}),s(r,{name:"table"},{default:n(()=>[s(m,{columns:e.columns,items:e.templates,caption:"\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8"},{tfoot:n(()=>[a("tr",null,[a("td",null,[C(a("input",{"onUpdate:modelValue":u[0]||(u[0]=t=>e.id=t)},null,512),[[h,e.id]])]),a("td",null,[a("button",{onClick:u[1]||(u[1]=(...t)=>e.addTemplate&&e.addTemplate(...t))},"add")])])]),_:1},8,["columns","items"]),s(m,{columns:e.columns,items:e.instances,caption:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9"},{tfoot:n(()=>[a("tr",null,[a("td",null,[s(b,{modelValue:e.template,"onUpdate:modelValue":u[2]||(u[2]=t=>e.template=t),list:e.templates.map(t=>t.id)},null,8,["modelValue","list"])]),a("td",null,[a("button",{onClick:u[3]||(u[3]=(...t)=>e.addInstance&&e.addInstance(...t))},"add")])])]),_:1},8,["columns","items"]),s(v,{columns:e.columns},{"item.departments":n(({value:t})=>[B(p(t==null?void 0:t[0])+"hoge",1)]),_:1},8,["columns"])]),_:1}),s(r,null,{default:n(()=>[$,(i(!0),o(d,null,F(e.items,t=>(i(),o("div",null,p(t.title),1))),256))]),_:1})],64)}var M=w(D,[["render",x]]);export{M as default};
