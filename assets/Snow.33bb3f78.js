import{_ as a,b as i}from"./index.2c62aea5.js";import{d,a as p,r as m,c,e as u,o as v}from"./vendor.83c679c4.js";class _ extends EventTarget{emit(e,...t){const n=t?new CustomEvent(e,{detail:t}):new Event(e);return this.dispatchEvent(n)}on(e,t){return this.addEventListener(e,n=>"detail"in n?t(...n.detail):t()),this}off(e,t){return this.removeEventListener(e,t),this}}class h extends _{on(e,t){return super.on(e,t)}off(e,t){return super.on(e,t)}push(e){this.emit("data",e)}}const l="https://api.labo.danmaid.com".replace(/^http/,"ws"),w=d({components:{Snow:p(()=>i(()=>import("./Snow.5b1ddb16.js"),["assets/Snow.5b1ddb16.js","assets/Snow.a1e346fb.css","assets/index.2c62aea5.js","assets/index.20c573b4.css","assets/vendor.83c679c4.js"]))},data(){return{stream:new h,ws:void 0}},mounted(){this.ws=new WebSocket(l),this.ws.addEventListener("message",this.drop)},unmounted(){this.ws&&(this.ws.removeEventListener("message",this.drop),this.ws.close())},methods:{drop(s){this.stream.push(s)}}});function f(s,e,t,n,E,S){const o=m("Snow",!0);return v(),c("div",{class:"viewport",onClick:e[0]||(e[0]=(...r)=>s.drop&&s.drop(...r))},[u(o,{stream:s.stream},null,8,["stream"])])}var L=a(w,[["render",f]]);export{L as default};
